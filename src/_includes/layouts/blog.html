{% extends "layouts/base.html" %}

{% set pageTitle = title %}
{% set pageSummary = content %}
{% set postList = pagination.items %}

{% if tag %}
  {% set postList = collections[tag] %}
  {% set pageTitle = 'Blog posts tagged with "#' + tag + '"' %}
{%endif %}

{% block content %}
  <article>
    {% include "partials/page-header.html" %}
    {% include "partials/post-list.html" %}

    {% if tag %}
    <a href="/tags">#all tags</a>
    {% endif %}
    {# If we leave pagination in for tags, the next and prev links will
      link to tags and be rather confusing, so don't render in that situation #}
    {% if not tag %}
      {% include "partials/pagination.html" %}
    {% endif %}
  </article>
{% endblock %}